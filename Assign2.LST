C51 COMPILER V9.53.0.0   ASSIGN2                                                           04/23/2015 14:52:47 PAGE 1   


C51 COMPILER V9.53.0.0, COMPILATION OF MODULE ASSIGN2
OBJECT MODULE PLACED IN Assign2.OBJ
COMPILER INVOKED BY: C:\programming\Keil_v5\C51\BIN\C51.EXE Assign2.c OMF2 OPTIMIZE(8,SPEED) BROWSE DEBUG TABS(2)

line level    source

   1          /*________________________________________________________________________________________________________
             -_____________
   2          
   3                  Assignment:       Elec2700
   4                  Module:         Assignment 2
   5                  Author:         Chris Caelli & Tim Farnworth
   6                  Date:           20/4/15
   7          
   8                  Description:
   9                  This program will emulate a MIDI keyboard and produce excellent music (probably)
  10          
  11          
  12                  Notes:          
  13              Basic Structure is being implemented. The code is limited to strict C.
  14              Current c51.exe compiler compiles the program, however gives 5 warnings of "Uncalled Functions".
  15              This is okay as we're implimenting stub programs.
  16              
  17                  Revisions:    v0.1 Alpha
  18          
  19          __________________________________________________________________________________________________________
             -___________*/
  20          #include <SiLABS/C8051F120.h>     //"C:\Programming\Keil_v5\C51\INC\SiLABS\c8051F120.h"
  21          //#include <C8051F120_defs.h>     // SFR declarations
  22          #include "Assign2.h"
  23          #include "Notes.h"
*** WARNING C280 IN LINE 204 OF Notes.h: 'OCT': unreferenced local variable
*** WARNING C280 IN LINE 204 OF Notes.h: 'tone_fr': unreferenced local variable
  24          #include "Keyboard.h"
  25          
  26          void main(void);
  27          void General_Init(void);
  28          
  29          /*--------------------------------------------------------------------------------------------------------
             -------------
  30                  Function:         Main
  31          
  32                  Description:      Main routine
  33          
  34                  Revisions:
  35          
  36          ----------------------------------------------------------------------------------------------------------
             -----------*/
  37          void main(void)
  38          {
  39   1        //printf("Hello World");
  40   1        General_Init();
  41   1        Timer_Init();
  42   1        Voltage_Reference_Init();
  43   1        DAC_Init();
  44   1        Interrupts_Init();
  45   1      
  46   1        while(1)
  47   1        { 
  48   2          // Do stuff here ??
  49   2      
C51 COMPILER V9.53.0.0   ASSIGN2                                                           04/23/2015 14:52:47 PAGE 2   

  50   2          // Try this code out to test the pushbuttons and LEDs as defined in Assign2.h
  51   2          LD1 = ~PB1; // Note the ~ means "complement"
  52   2          LD2 = ~PB2;
  53   2          LD3 = ~PB3;
  54   2          LD4 = ~PB4;
  55   2          LD5 = ~PB5;
  56   2          LD6 = ~PB6;
  57   2          LD7 = ~PB7;
  58   2      
  59   2          if ((~MPB) || (~PB8))  // What does this do.....Note that MPB is the P3.7 push button on the 8051 board
  60   2            LD8 = 1;
  61   2          else 
  62   2            LD8 = 0;
  63   2        }
  64   1      }
  65          
  66          /*--------------------------------------------------------------------------------------------------------
             -------------
  67                  Function:         General_Init
  68          
  69                  Description:      Initialise ports, watchdog....
  70          
  71                  Revisions:
  72          
  73          ----------------------------------------------------------------------------------------------------------
             -----------*/
  74          void General_Init()
  75          {
  76   1        WDTCN = 0xde;
  77   1        WDTCN = 0xad;
  78   1        SFRPAGE = CONFIG_PAGE;
  79   1        P2MDOUT = 0xff;   // Need to make pushpull outputs to drive LEDs properly
  80   1        XBR2 = 0x40;
  81   1      }
  82          


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    263    ----
   CONSTANT SIZE    =     26    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      6       3
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
   EDATA SIZE       =   ----    ----
   HDATA SIZE       =   ----    ----
   XDATA CONST SIZE =   ----    ----
   FAR CONST SIZE   =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  2 WARNING(S),  0 ERROR(S)
